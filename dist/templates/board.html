<h1 class="board-title" ng-controller="boardCtrl as boardCtrl">
  <a href="/">Back to boards</a>
  {{boardCtrl.board.boardName}}
</h1>

<section id="lists-container" class="lists-container" ng-controller="listsCtrl as listsCtrl">
  <div class="row">
    <section class="list list-inline" ng-repeat="list in listsCtrl.lists" ng-controller="listCtrl as listCtrl" >
      <h2>{{list.listName}}</h2>
      <!-- cards list -->
      {{cards = listCtrl.getCards(list);""}}<!-- The trailing "" stops the Angular expression being evaluated to any text. -->
      <div dnd-list="cards" style="min-height: 30px">
        <div  class="card"
              ng-repeat="card in cards"
              ng-controller="cardCtrl as cardCtrl"
              dnd-draggable="card"
              dnd-effect-allowed="move"
              dnd-moved="cards.splice($index, 1)">

          <div>
            {{card.title}}
            <div ng-click="listsCtrl.editCard(card)" class="edit-small edit-card hand"></div>
            <div ng-click="cardCtrl.deleteCard(card, list.id)" class="hand">
              <div class="remove-small remove-card"></div>
            </div>

          </div>

        </div>
      </div>
      <!-- remove list -->
      <a ng-click="listsCtrl.removeList(list)" class="hand">
        <div class="remove remove-list"></div>
      </a>
      <!-- create new card -->
      <section class="new-card" ng-click="listsCtrl.createCard(list)">
        Add new card
      </section>
    </section>
    <!-- create new list -->
    <section class="list new-list list-inline">
      <form ng-submit="listsCtrl.addList()">
        <input type="text" ng-model="listsCtrl.listName" placeholder="New List name"/>
      </form>
    </section>
  </div>
  <!-- card details -->
  <div class="card-detail" ng-show="listsCtrl.isCardEditing">
    <card-detail card="listsCtrl.editingCard" is-editing="listsCtrl.isCardEditing"></card-detail>
  </div>
</section>
